<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMT-1 學習</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <header class="main-header">
            <h1>EMT-1 救護GO</h1>
        </header>

        <!-- Main Menu -->
        <main id="main-menu" class="menu-container">
            <button class="menu-btn learning-btn" onclick="showScreen('learning-menu')">
                <span class="icon">📖</span>
                <span class="text">學習卡</span>
            </button>

            <button class="menu-btn test-btn" onclick="showScreen('test-menu')">
                <span class="icon">🚑</span>
                <span class="text">測 試</span>
            </button>

            <button class="menu-btn knowledge-btn" onclick="showScreen('knowledge-menu')">
                <span class="icon">💡</span>
                <span class="text">知識卡</span>
            </button>

            <button class="menu-btn assessment-btn" onclick="startGCSAssessment()">
                <span class="icon">🔢</span>
                <span class="text">GCS 評估</span>
            </button>
        </main>

        <!-- Knowledge Menu -->
        <main id="knowledge-menu" class="menu-container hidden">
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('professional')">
                <span class="icon">🧰</span>
                <span class="text">專業展示</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('avpu')">
                <span class="icon">🧠</span>
                <span class="text">意識評估 (AVPU)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('gcs')">
                <span class="icon">🔢</span>
                <span class="text">昏迷指數 (GCS)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('handover')">
                <span class="icon">🗣️</span>
                <span class="text">交班步驟 (ISBAR & IMIST)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('trauma_process')">
                <span class="icon">🩹</span>
                <span class="text">創傷處置流程 (X-意識-ABCDE)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('nontrauma_process')">
                <span class="icon">🩺</span>
                <span class="text">非創傷處置流程 (意識-ABC)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('critical_cases')">
                <span class="icon">🚨</span>
                <span class="text">危急個案判斷 (ALS/Major Trauma)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('chain_of_survival')">
                <span class="icon">🔗</span>
                <span class="text">生命之鍊 (Chain of Survival)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('airway_maintenance')">
                <span class="icon">🌬️</span>
                <span class="text">維持呼吸道 (Airway Maintenance)</span>
            </button>
            <button class="menu-btn category-btn" onclick="showKnowledgeDetail('ohca_process')">
                <span class="icon">⚡</span>
                <span class="text">OHCA 流程 (OHCA Process)</span>
            </button>

            <button class="back-btn" onclick="showScreen('main-menu')">
                <span class="icon">↩️</span> 返回主選單
            </button>
        </main>

        <!-- Knowledge Detail -->
        <main id="knowledge-detail" class="menu-container hidden">
            <div class="card-header">
                <button class="back-btn small-back" onclick="showScreen('knowledge-menu')">
                    <span class="icon">↩️</span> 返回
                </button>
                <h2 id="knowledge-title">標題</h2>
            </div>

            <div class="knowledge-content" id="knowledge-content">
                <!-- Content goes here -->
            </div>
        </main>

        <!-- GCS Assessment Screen -->
        <main id="gcs-assessment" class="menu-container hidden">
            <div class="card-header">
                <button class="back-btn small-back" onclick="showScreen('main-menu')">
                    <span class="icon">↩️</span> 返回
                </button>
                <h2>GCS 評估工具</h2>
            </div>
            <div class="gcs-container">
                <div class="gcs-scenario-box">
                    <h3 id="gcs-question-title">題目載入中...</h3>
                    <div id="gcs-scenario-text" class="scenario-text"></div>
                </div>

                <div class="gcs-input-area">
                    <div class="gcs-select-group">
                        <label>E (睜眼反應):</label>
                        <select id="gcs-e-select">
                            <option value="0">請選擇</option>
                            <option value="4">4 - 自動張開</option>
                            <option value="3">3 - 對聲音有反應</option>
                            <option value="2">2 - 對痛有反應</option>
                            <option value="1">1 - 無反應</option>
                        </select>
                    </div>
                    <div class="gcs-select-group">
                        <label>V (語言反應):</label>
                        <select id="gcs-v-select">
                            <option value="0">請選擇</option>
                            <option value="5">5 - 清醒/有條理</option>
                            <option value="4">4 - 混亂/對話</option>
                            <option value="3">3 - 單字/不適當</option>
                            <option value="2">2 - 呻吟/無法理解</option>
                            <option value="1">1 - 無反應</option>
                        </select>
                    </div>
                    <div class="gcs-select-group">
                        <label>M (運動反應):</label>
                        <select id="gcs-m-select">
                            <option value="0">請選擇</option>
                            <option value="6">6 - 聽從指令</option>
                            <option value="5">5 - 定位疼痛</option>
                            <option value="4">4 - 縮回反應</option>
                            <option value="3">3 - 異常屈曲 (去皮質)</option>
                            <option value="2">2 - 異常伸展 (去大腦)</option>
                            <option value="1">1 - 無反應</option>
                        </select>
                    </div>
                </div>

                <button id="gcs-submit-btn" class="action-btn" onclick="checkGCSAnswer()">提交答案</button>

                <div id="gcs-result" class="result-box hidden">
                    <h3 id="gcs-result-title"></h3>
                    <p id="gcs-result-text"></p>
                    <button id="gcs-next-btn" class="action-btn" onclick="nextGCSQuestion()">再來一題</button>
                </div>
            </div>
        </main>

        <!-- Learning Menu -->
        <main id="learning-menu" class="menu-container hidden">
            <button class="menu-btn category-btn" onclick="selectCategory('regulations')">
                <span class="icon">📜</span>
                <span class="text">法規</span>
            </button>
            <button class="menu-btn category-btn" onclick="selectCategory('assessment')">
                <span class="icon">📋</span>
                <span class="text">急救評估</span>
            </button>
            <button class="menu-btn category-btn" onclick="selectCategory('methods')">
                <span class="icon">🩹</span>
                <span class="text">急救方法</span>
            </button>

            <button class="back-btn" onclick="showScreen('main-menu')">
                <span class="icon">↩️</span> 返回主選單
            </button>
        </main>

        <!-- Card Display -->
        <main id="card-display" class="menu-container hidden">
            <div class="card-header">
                <button class="back-btn small-back" onclick="showScreen('learning-menu')">
                    <span class="icon">↩️</span> 返回
                </button>
                <h2 id="category-title">類別標題</h2>
            </div>

            <div class="card-container" id="flashcard">
                <div class="card-content">
                    <div class="card-question">
                        <h3>問題</h3>
                        <p id="question-text">這裡會顯示問題...</p>
                    </div>
                    <div class="card-divider"></div>
                    <div class="card-answer">
                        <h3>解答</h3>
                        <p id="answer-text">這裡會顯示解答...</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Test Menu -->
        <main id="test-menu" class="menu-container hidden">
            <button class="menu-btn category-btn" onclick="startTest('regulations')">
                <span class="icon">📜</span>
                <span class="text">法規測驗</span>
            </button>
            <button class="menu-btn category-btn" onclick="startTest('assessment')">
                <span class="icon">📋</span>
                <span class="text">評估測驗</span>
            </button>
            <button class="menu-btn category-btn" onclick="startTest('methods')">
                <span class="icon">🩹</span>
                <span class="text">方法測驗</span>
            </button>

            <button class="back-btn" onclick="showScreen('main-menu')">
                <span class="icon">↩️</span> 返回主選單
            </button>
        </main>

        <!-- Test Interface -->
        <main id="test-interface" class="menu-container hidden">
            <div class="card-header">
                <button class="back-btn small-back" onclick="showScreen('test-menu')">
                    <span class="icon">↩️</span> 退出
                </button>
                <div class="test-stats">
                    <span id="test-progress">1 / 10</span>
                    <span id="test-timer">00:00</span>
                </div>
            </div>

            <div class="test-container">
                <div class="test-question-box">
                    <p id="test-question-text">題目載入中...</p>
                </div>
                <div class="test-options" id="test-options">
                    <!-- Options will be generated here -->
                </div>
            </div>
        </main>

        <!-- Test Results -->
        <main id="test-results" class="menu-container hidden">
            <div class="results-header">
                <h2>測驗結果</h2>
            </div>
            <div class="results-summary">
                <div class="score-circle">
                    <span id="final-score">100%</span>
                    <span class="score-label">正確率</span>
                </div>
                <p class="time-taken">作答時間: <span id="final-time">00:00</span></p>
            </div>

            <div class="review-section">
                <h3>錯誤題目檢討</h3>
                <div id="review-list" class="review-list">
                    <!-- Wrong answers will be listed here -->
                </div>
            </div>

            <button class="back-btn" onclick="showScreen('main-menu')">
                <span class="icon">🏠</span> 返回主畫面
            </button>
        </main>

        <footer class="main-footer">
            <p>加油！未來的救護員！(資料仍以教科書為主)</p>
        </footer>
    </div>
    <script src="game_data/data.js"></script>
    <script src="script.js"></script>
</body>

</html>